<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Test ¬∑ al-√Åndalus (1‚Äì3) ¬∑ Pr√°ctica</title>

  <style>
    *{box-sizing:border-box}

    body{
      margin:0;padding:0;min-height:100vh;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
      display:flex;align-items:center;justify-content:center;

      /* üé® FONDO ANARANJADO */
      background:
        radial-gradient(circle at 0% 0%, rgba(249,115,22,.55) 0, transparent 45%),
        radial-gradient(circle at 100% 20%, rgba(245,158,11,.55) 0, transparent 45%),
        radial-gradient(circle at 15% 100%, rgba(251,146,60,.45) 0, transparent 42%),
        #020617;

      color:#e5e7eb;
    }

    .shell{width:100%;max-width:980px;padding:20px}

    .card{
      position:relative;background:rgba(15,23,42,.82);
      border-radius:24px;padding:24px 26px 22px;
      box-shadow:0 22px 60px rgba(15,23,42,.8);
      border:1px solid rgba(148,163,184,.35);
      backdrop-filter:blur(18px);
      overflow:hidden;
    }
    .card::before{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(circle at 0 0, rgba(249,115,22,.20), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(245,158,11,.18), transparent 55%);
      opacity:.95;pointer-events:none;
    }
    .card-inner{position:relative;z-index:1}

    h1{margin:0 0 6px;text-align:center;font-size:1.45rem;font-weight:800;color:#f9fafb}
    .tagline{margin:0 0 16px;text-align:center;font-size:.9rem;color:#9ca3af}

    .pill-row{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:14px;font-size:.8rem;color:#9ca3af}
    .pill{
      padding:5px 11px;border-radius:999px;border:1px solid rgba(148,163,184,.6);
      background:rgba(15,23,42,.8);display:inline-flex;align-items:center;gap:6px
    }
    .pill .dot{width:7px;height:7px;border-radius:50%;background:#f97316;display:inline-block}

    .progress-wrap{margin-bottom:10px}
    .progress-bar-bg{width:100%;height:9px;border-radius:999px;background:rgba(15,23,42,.9);border:1px solid rgba(55,65,81,.9);overflow:hidden}
    .progress-bar-fill{
      height:100%;width:0%;border-radius:999px;
      background:linear-gradient(90deg,#f97316,#fb923c,#f59e0b);
      box-shadow:0 0 10px rgba(249,115,22,.55);
      transition:width .2s ease;
    }
    .progress-label{margin-top:4px;font-size:.78rem;text-align:right;color:#9ca3af}

    .question-text{margin:12px 0}
    .q-es{display:block;font-size:1.02rem;font-weight:800;color:#e5e7eb;margin-bottom:3px}
    .q-hint{display:block;font-size:.9rem;color:#cbd5f5;opacity:.92}

    .q-image{
      margin:10px 0 12px;border-radius:16px;border:1px solid rgba(148,163,184,.45);
      overflow:hidden;background:rgba(15,23,42,.6);
    }
    .q-image img{display:block;width:100%;height:auto}
    .q-credit{
      padding:8px 10px;font-size:.76rem;color:#9ca3af;
      border-top:1px solid rgba(148,163,184,.25)
    }
    .q-credit a{color:#fdba74;text-decoration:none}
    .q-credit a:hover{text-decoration:underline}

    .options{margin-top:10px}
    .option{
      border-radius:14px;border:1px solid rgba(148,163,184,.5);
      padding:9px 11px;margin-bottom:8px;
      display:flex;gap:8px;cursor:pointer;
      background:radial-gradient(circle at 0 0, rgba(148,163,184,.18), transparent 60%);
      transition:border-color .15s ease, transform .05s ease, background .15s ease;
    }
    .option:hover{
      border-color:#fb923c;
      transform:translateY(-1px);
      background:radial-gradient(circle at 0 0, rgba(249,115,22,.22), transparent 65%);
    }
    .option input{margin-top:3px;accent-color:#fb923c}

    .short-answer{
      width:100%;margin-top:8px;padding:10px 12px;border-radius:14px;
      border:1px solid rgba(148,163,184,.7);
      background:rgba(15,23,42,.8);color:#e5e7eb;font-size:.97rem;outline:none;
      transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .short-answer:focus{
      border-color:#fb923c;
      box-shadow:0 0 0 1px rgba(251,146,60,.55);
      background:rgba(15,23,42,.95);
    }
    .hint{margin-top:6px;font-size:.78rem;color:#9ca3af}

    .nav-row{margin-top:18px;display:flex;justify-content:space-between;gap:8px}
    .btn{
      border-radius:999px;border:none;padding:9px 18px;font-size:.92rem;font-weight:800;
      cursor:pointer;display:inline-flex;align-items:center;gap:6px;white-space:nowrap;
      transition:transform .07s ease, box-shadow .2s ease, background .15s ease;
    }
    .btn-primary{
      background:linear-gradient(135deg,#fb923c,#f97316);
      color:#0f172a;
      box-shadow:0 14px 30px rgba(249,115,22,.35);
    }
    .btn-primary:hover{transform:translateY(-1px);box-shadow:0 18px 40px rgba(249,115,22,.5)}
    .btn-ghost{background:transparent;color:#e5e7eb;border:1px solid rgba(148,163,184,.7)}
    .btn-ghost:hover{background:rgba(15,23,42,.85);transform:translateY(-1px)}
    .btn:disabled{opacity:.4;cursor:default;transform:none;box-shadow:none}

    /* Resultados */
    #result-card h2{margin:0 0 10px;font-size:1.3rem}
    .summary{margin-top:10px;font-size:.98rem;color:#e5e7eb}
    .summary strong{color:#fdba74}
    .list-fails{margin-top:12px;max-height:320px;overflow:auto;padding-right:6px;font-size:.92rem;color:#e5e7eb}
    .list-fails li{margin-bottom:12px;padding-bottom:10px;border-bottom:1px dashed rgba(148,163,184,.45)}
    .list-fails .qtitle{display:block;font-weight:900}
    .list-fails .line{display:block;margin-top:4px;color:#cbd5f5;opacity:.96}
    .pill-mini{
      display:inline-block;
      margin-top:8px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.35);
      background:rgba(15,23,42,.6);
      color:#fdba74;
      font-size:.78rem;
      font-weight:800;
    }

    /* important: para que hidden gane siempre */
    .hidden{display:none !important;}

    @media (max-width:640px){
      .card{padding:18px 16px 16px;border-radius:18px}
      h1{font-size:1.2rem}
      .nav-row{flex-direction:column-reverse}
      .btn{width:100%;justify-content:center}
      .progress-label{text-align:left}
    }
  </style>
</head>

<body>
  <div class="shell">

    <div id="test-card" class="card">
      <div class="card-inner">
        <h1>Test ¬∑ al-√Åndalus (apartados 1‚Äì3)</h1>
        <div class="tagline">Modo pr√°ctica (para aprender de verdad)</div>

        <div class="pill-row">
          <div class="pill"><span class="dot"></span><span>Conquista ¬∑ Califato ¬∑ Taifas</span></div>
          <div class="pill"><span>40 preguntas</span></div>
        </div>

        <div class="progress-wrap">
          <div class="progress-bar-bg">
            <div id="progress-bar" class="progress-bar-fill"></div>
          </div>
          <div id="progress-label" class="progress-label"></div>
        </div>

        <div id="question-container"></div>
<div id="js-indicator" class="hint" style="margin-top:10px;color:#fecaca;font-weight:800">
  JS NO est√° cargando (todav√≠a)
</div>
<pre id="js-error" class="hint" style="margin-top:10px;color:#fecaca;white-space:pre-wrap"></pre>

        <div class="nav-row">
          <button id="btn-prev" class="btn btn-ghost">‚óÄ Anterior</button>
          <button id="btn-next" class="btn btn-primary">Siguiente ‚ñ∂</button>
        </div>
      </div>
    </div>

    <div id="result-card" class="card hidden">
      <div class="card-inner" id="result-content"></div>
    </div>

  </div>

  <script src="app.js" defer></script>
</body>
</html>
